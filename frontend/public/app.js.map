{
  "version": 3,
  "sources": ["api.ts", "ui.ts", "search.ts", "app.ts"],
  "sourcesContent": ["// ============================================\n// API Client for GCP IAM Search Backend\n// ============================================\n\nexport type SearchMode = 'exact' | 'prefix' | 'fuzzy';\n\nexport interface RoleSummary {\n    name: string;\n    title: string;\n    stage: string;\n}\n\nexport interface Permission {\n    name: string;\n    service: string;\n    resource: string;\n    action: string;\n    score: number;\n    granted_by_roles: RoleSummary[];\n}\n\nexport interface Role {\n    name: string;\n    title: string;\n    description: string;\n    stage: string;\n    score: number;\n    permission_count: number;\n    sample_permissions: string[];\n}\n\nexport interface SearchResults {\n    permissions: Permission[];\n    roles: Role[];\n}\n\nexport class SearchClient {\n    private baseUrl: string;\n    private cache: Map<string, SearchResults> = new Map();\n    private abortController: AbortController | null = null;\n\n    constructor(baseUrl: string) {\n        this.baseUrl = baseUrl.replace(/\\/$/, ''); // Remove trailing slash\n    }\n\n    /**\n     * Search for permissions and roles\n     */\n    async search(query: string, mode: SearchMode = 'fuzzy'): Promise<SearchResults> {\n        // Cancel previous request if any\n        if (this.abortController) {\n            this.abortController.abort();\n        }\n\n        const cacheKey = `${query}:${mode}`;\n        const cached = this.cache.get(cacheKey);\n        if (cached) {\n            return cached;\n        }\n\n        this.abortController = new AbortController();\n\n        try {\n            const params = new URLSearchParams({\n                q: query,\n                mode,\n                limit: '20',\n            });\n\n            const url = `${this.baseUrl}/search?${params}`;\n\n            const response = await fetch(url, {\n                method: 'GET',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                signal: this.abortController.signal,\n            });\n\n            if (!response.ok) {\n                throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n            }\n\n            const json = await response.json();\n            // Backend returns {success: true, data: {permissions: [...], roles: [...]}}\n            const rawData = json.data || json;\n\n            const results: SearchResults = {\n                permissions: rawData.permissions || [],\n                roles: rawData.roles || [],\n            };\n\n            // Cache results\n            this.cache.set(cacheKey, results);\n\n            return results;\n        } catch (error) {\n            // If it's an abort error, return empty results silently\n            if (error instanceof Error && error.name === 'AbortError') {\n                return { permissions: [], roles: [] };\n            }\n\n            throw error;\n        }\n    }\n\n    /**\n     * Clear cache\n     */\n    clearCache() {\n        this.cache.clear();\n    }\n\n    /**\n     * Get API health status\n     */\n    async getHealth(): Promise<boolean> {\n        try {\n            const response = await fetch(`${this.baseUrl}/health`, {\n                method: 'GET',\n            });\n            return response.ok;\n        } catch {\n            return false;\n        }\n    }\n}\n", "// ============================================\n// UI Management - DOM Manipulation and Rendering\n// ============================================\n\nimport { SearchResults, Permission, Role } from './api';\n\nexport class SearchUI {\n    private selectedIndex: number = -1;\n    private currentResults: SearchResults = { permissions: [], roles: [] };\n\n    constructor() {\n        this.initializeElements();\n    }\n\n    private initializeElements() {\n        // Verify all required elements exist\n        const requiredIds = [\n            'loadingState',\n            'emptyState',\n            'errorState',\n            'resultsContainer',\n            'permissionsSection',\n            'rolesSection',\n            'permissionsList',\n            'rolesList',\n            'permissionCount',\n            'roleCount',\n        ];\n\n        for (const id of requiredIds) {\n            if (!document.getElementById(id)) {\n                console.warn(`Element with id \"${id}\" not found`);\n            }\n        }\n    }\n\n    /**\n     * Show loading state\n     */\n    showLoading() {\n        this.hideAllStates();\n        const loadingState = document.getElementById('loadingState');\n        if (loadingState) {\n            loadingState.style.display = 'block';\n        }\n        this.selectedIndex = -1;\n    }\n\n    /**\n     * Show empty state\n     */\n    showEmptyState() {\n        this.hideAllStates();\n        const emptyState = document.getElementById('emptyState');\n        if (emptyState) {\n            emptyState.style.display = 'block';\n        }\n        this.selectedIndex = -1;\n    }\n\n    /**\n     * Show error state\n     */\n    showError() {\n        this.hideAllStates();\n        const errorState = document.getElementById('errorState');\n        if (errorState) {\n            errorState.style.display = 'block';\n        }\n        this.selectedIndex = -1;\n    }\n\n    /**\n     * Display search results\n     */\n    displayResults(results: SearchResults) {\n        this.currentResults = results;\n        this.hideAllStates();\n        this.selectedIndex = -1;\n\n        const resultsContainer = document.getElementById('resultsContainer');\n        if (!resultsContainer) return;\n\n        // Hide both sections initially\n        const permSection = document.getElementById('permissionsSection');\n        const rolesSection = document.getElementById('rolesSection');\n        if (permSection) permSection.style.display = 'none';\n        if (rolesSection) rolesSection.style.display = 'none';\n\n        // Display permissions\n        if (results.permissions.length > 0) {\n            this.displayPermissions(results.permissions);\n        }\n\n        // Display roles\n        if (results.roles.length > 0) {\n            this.displayRoles(results.roles);\n        }\n\n        resultsContainer.style.display = 'block';\n    }\n\n    /**\n     * Display permissions results with associated roles\n     */\n    private displayPermissions(permissions: Permission[]) {\n        const section = document.getElementById('permissionsSection');\n        const list = document.getElementById('permissionsList');\n        const count = document.getElementById('permissionCount');\n\n        if (!section || !list || !count) return;\n\n        list.innerHTML = '';\n\n        permissions.forEach((perm, idx) => {\n            const item = this.createPermissionItem(perm, idx);\n            list.appendChild(item);\n        });\n\n        count.textContent = `(${permissions.length})`;\n        section.style.display = 'block';\n    }\n\n    /**\n     * Display roles results with their permissions\n     */\n    private displayRoles(roles: Role[]) {\n        const section = document.getElementById('rolesSection');\n        const list = document.getElementById('rolesList');\n        const count = document.getElementById('roleCount');\n\n        if (!section || !list || !count) return;\n\n        list.innerHTML = '';\n\n        roles.forEach((role, idx) => {\n            const item = this.createRoleItem(role, idx);\n            list.appendChild(item);\n        });\n\n        count.textContent = `(${roles.length})`;\n        section.style.display = 'block';\n    }\n\n    /**\n     * Create permission result item with associated roles\n     */\n    private createPermissionItem(perm: Permission, idx: number) {\n        const div = document.createElement('div');\n        div.className = 'result-item';\n        div.dataset.index = String(idx);\n        div.dataset.type = 'permission';\n\n        const rolesHtml = perm.granted_by_roles && perm.granted_by_roles.length > 0\n            ? `<div class=\"associated-roles\">\n                <span class=\"roles-label\">Granted by:</span>\n                ${perm.granted_by_roles.map(r =>\n                    `<span class=\"role-chip\" title=\"${this.escapeHtml(r.name)}\">${this.escapeHtml(r.title)}</span>`\n                ).join('')}\n               </div>`\n            : '<div class=\"no-roles\">No roles grant this permission directly</div>';\n\n        div.innerHTML = `\n            <div class=\"result-name\">${this.escapeHtml(perm.name)}</div>\n            <div class=\"result-meta\">\n                <span class=\"result-badge service\">${this.escapeHtml(perm.service)}</span>\n                <span class=\"result-badge resource\">${this.escapeHtml(perm.resource)}</span>\n                <span class=\"result-badge action\">${this.escapeHtml(perm.action)}</span>\n                <span class=\"result-score\">Match: ${(perm.score * 100).toFixed(0)}%</span>\n            </div>\n            ${rolesHtml}\n        `;\n\n        div.addEventListener('click', () => {\n            this.selectItem(idx);\n        });\n\n        return div;\n    }\n\n    /**\n     * Create role result item with sample permissions\n     */\n    private createRoleItem(role: Role, idx: number) {\n        const div = document.createElement('div');\n        div.className = 'result-item role-item';\n        div.dataset.index = String(idx);\n        div.dataset.type = 'role';\n\n        const stageColor =\n            role.stage === 'GA'\n                ? '#4CAF50'\n                : role.stage === 'BETA'\n                  ? '#FF9800'\n                  : role.stage === 'ALPHA'\n                    ? '#2196F3'\n                    : '#F44336';\n\n        const permissionsHtml = role.sample_permissions && role.sample_permissions.length > 0\n            ? `<div class=\"sample-permissions\">\n                <span class=\"perms-label\">Includes:</span>\n                ${role.sample_permissions.map(p =>\n                    `<span class=\"perm-chip\">${this.escapeHtml(p)}</span>`\n                ).join('')}\n                ${role.permission_count > 5 ? `<span class=\"more-perms\">+${role.permission_count - 5} more</span>` : ''}\n               </div>`\n            : '';\n\n        div.innerHTML = `\n            <div class=\"result-name\">${this.escapeHtml(role.name)}</div>\n            <div class=\"role-title\">${this.escapeHtml(role.title)}</div>\n            <div class=\"role-description\">${this.escapeHtml(role.description)}</div>\n            <div class=\"result-meta\">\n                <span class=\"result-badge stage\" style=\"background-color: ${stageColor}; color: white;\">\n                    ${this.escapeHtml(role.stage)}\n                </span>\n                <span class=\"result-badge\">\n                    ${role.permission_count} permission${role.permission_count !== 1 ? 's' : ''}\n                </span>\n                <span class=\"result-score\">Match: ${(role.score * 100).toFixed(0)}%</span>\n            </div>\n            ${permissionsHtml}\n        `;\n\n        div.addEventListener('click', () => {\n            this.selectItem(idx);\n        });\n\n        return div;\n    }\n\n    /**\n     * Select a result item\n     */\n    private selectItem(index: number) {\n        const items = document.querySelectorAll('.result-item');\n        items.forEach((item) => item.classList.remove('selected'));\n\n        const item = document.querySelector(`.result-item[data-index=\"${index}\"]`);\n        if (item) {\n            item.classList.add('selected');\n            item.scrollIntoView({ behavior: 'smooth', block: 'nearest' });\n        }\n\n        this.selectedIndex = index;\n    }\n\n    /**\n     * Select next item\n     */\n    selectNext() {\n        const items = document.querySelectorAll('.result-item');\n        if (items.length === 0) return;\n\n        const next = Math.min(this.selectedIndex + 1, items.length - 1);\n        this.selectItem(next);\n    }\n\n    /**\n     * Select previous item\n     */\n    selectPrevious() {\n        const items = document.querySelectorAll('.result-item');\n        if (items.length === 0) return;\n\n        const prev = Math.max(this.selectedIndex - 1, 0);\n        this.selectItem(prev);\n    }\n\n    /**\n     * Get selected result name\n     */\n    getSelectedResult(): string | null {\n        if (this.selectedIndex === -1) return null;\n\n        const item = document.querySelector(`.result-item[data-index=\"${this.selectedIndex}\"]`);\n        if (!item) return null;\n\n        const nameEl = item.querySelector('.result-name');\n        return nameEl ? nameEl.textContent : null;\n    }\n\n    /**\n     * Hide all state indicators\n     */\n    private hideAllStates() {\n        const states = ['loadingState', 'emptyState', 'errorState', 'resultsContainer'];\n        states.forEach((id) => {\n            const el = document.getElementById(id);\n            if (el) {\n                el.style.display = 'none';\n            }\n        });\n    }\n\n    /**\n     * Escape HTML special characters\n     */\n    private escapeHtml(text: string): string {\n        const map: Record<string, string> = {\n            '&': '&amp;',\n            '<': '&lt;',\n            '>': '&gt;',\n            '\"': '&quot;',\n            \"'\": '&#039;',\n        };\n        return text.replace(/[&<>\"']/g, (char) => map[char]);\n    }\n}\n", "// ============================================\n// Search Manager - State and Mode Management\n// ============================================\n\nexport type SearchMode = 'exact' | 'prefix' | 'fuzzy';\n\nexport interface SearchManagerConfig {\n    debounceMs?: number;\n    resultLimit?: number;\n    fuzzyThreshold?: number;\n}\n\n/**\n * Manages search state, modes, and debouncing\n */\nexport class SearchManager {\n    private currentMode: SearchMode = 'fuzzy';\n    private debounceMs: number = 150;\n    private resultLimit: number = 20;\n    private fuzzyThreshold: number = 0.5;\n    private debounceTimer: NodeJS.Timeout | null = null;\n    private lastQuery: string = '';\n\n    constructor(config: SearchManagerConfig = {}) {\n        this.debounceMs = config.debounceMs ?? 150;\n        this.resultLimit = config.resultLimit ?? 20;\n        this.fuzzyThreshold = config.fuzzyThreshold ?? 0.5;\n    }\n\n    /**\n     * Set the current search mode\n     */\n    setMode(mode: SearchMode) {\n        this.currentMode = mode;\n    }\n\n    /**\n     * Get the current search mode\n     */\n    getCurrentMode(): SearchMode {\n        return this.currentMode;\n    }\n\n    /**\n     * Set debounce delay\n     */\n    setDebounceMs(ms: number) {\n        this.debounceMs = ms;\n    }\n\n    /**\n     * Set result limit\n     */\n    setResultLimit(limit: number) {\n        this.resultLimit = limit;\n    }\n\n    /**\n     * Set fuzzy threshold (0-1)\n     */\n    setFuzzyThreshold(threshold: number) {\n        this.fuzzyThreshold = Math.max(0, Math.min(1, threshold));\n    }\n\n    /**\n     * Debounce a search operation\n     */\n    debounceSearch(callback: (query: string) => void, query: string): void {\n        if (this.debounceTimer !== null) {\n            clearTimeout(this.debounceTimer);\n        }\n\n        this.lastQuery = query;\n\n        this.debounceTimer = setTimeout(() => {\n            callback(query);\n            this.debounceTimer = null;\n        }, this.debounceMs);\n    }\n\n    /**\n     * Cancel pending debounced search\n     */\n    cancelDebounce(): void {\n        if (this.debounceTimer !== null) {\n            clearTimeout(this.debounceTimer);\n            this.debounceTimer = null;\n        }\n    }\n\n    /**\n     * Get last query that was searched\n     */\n    getLastQuery(): string {\n        return this.lastQuery;\n    }\n\n    /**\n     * Validate and normalize a search query\n     */\n    validateQuery(query: string): string {\n        return query\n            .trim()\n            .toLowerCase()\n            .slice(0, 100); // Max 100 chars\n    }\n\n    /**\n     * Get search configuration for API call\n     */\n    getSearchConfig() {\n        return {\n            mode: this.currentMode,\n            limit: this.resultLimit,\n            fuzzyThreshold: this.fuzzyThreshold,\n        };\n    }\n}\n\n/**\n * Simple local search implementation for client-side filtering\n */\nexport class LocalSearchEngine {\n    private permissions: Array<{ name: string; service: string; score?: number }> = [];\n    private roles: Array<{ name: string; title: string; score?: number }> = [];\n\n    /**\n     * Index permissions\n     */\n    indexPermissions(perms: Array<{ name: string; service: string }>) {\n        this.permissions = perms;\n    }\n\n    /**\n     * Index roles\n     */\n    indexRoles(roles: Array<{ name: string; title: string }>) {\n        this.roles = roles;\n    }\n\n    /**\n     * Exact search\n     */\n    searchExact(query: string) {\n        const q = query.toLowerCase();\n        const permissions = this.permissions.filter((p) => p.name.toLowerCase() === q);\n        const roles = this.roles.filter(\n            (r) =>\n                r.name.toLowerCase() === q ||\n                r.title.toLowerCase() === q\n        );\n        return { permissions, roles };\n    }\n\n    /**\n     * Prefix search\n     */\n    searchPrefix(query: string) {\n        const q = query.toLowerCase();\n        const permissions = this.permissions\n            .filter((p) => p.name.toLowerCase().startsWith(q))\n            .map((p) => ({\n                ...p,\n                score: 0.9,\n            }));\n        const roles = this.roles\n            .filter(\n                (r) =>\n                    r.name.toLowerCase().startsWith(q) ||\n                    r.title.toLowerCase().startsWith(q)\n            )\n            .map((r) => ({\n                ...r,\n                score: 0.8,\n            }));\n        return { permissions, roles };\n    }\n\n    /**\n     * Fuzzy search using simple N-gram matching\n     */\n    searchFuzzy(query: string, threshold: number = 0.5) {\n        const q = query.toLowerCase();\n        const ngrams = this.extractNgrams(q, 3);\n\n        const permissions = this.permissions\n            .map((p) => ({\n                ...p,\n                score: this.calculateSimilarity(\n                    ngrams,\n                    this.extractNgrams(p.name.toLowerCase(), 3)\n                ),\n            }))\n            .filter((p) => p.score >= threshold);\n\n        const roles = this.roles\n            .map((r) => ({\n                ...r,\n                score: Math.max(\n                    this.calculateSimilarity(\n                        ngrams,\n                        this.extractNgrams(r.name.toLowerCase(), 3)\n                    ),\n                    this.calculateSimilarity(\n                        ngrams,\n                        this.extractNgrams(r.title.toLowerCase(), 3)\n                    )\n                ),\n            }))\n            .filter((r) => r.score >= threshold);\n\n        return { permissions, roles };\n    }\n\n    /**\n     * Full-text search\n     */\n    searchFulltext(query: string) {\n        const tokens = query.toLowerCase().split(/\\s+/);\n\n        const permissions = this.permissions\n            .map((p) => ({\n                ...p,\n                matchCount: tokens.filter((t) =>\n                    p.name.toLowerCase().includes(t)\n                ).length,\n            }))\n            .filter((p) => p.matchCount > 0)\n            .map(({ matchCount, ...p }) => ({\n                ...p,\n                score: matchCount / tokens.length,\n            }));\n\n        const roles = this.roles\n            .map((r) => ({\n                ...r,\n                matchCount: tokens.filter(\n                    (t) =>\n                        r.name.toLowerCase().includes(t) ||\n                        r.title.toLowerCase().includes(t)\n                ).length,\n            }))\n            .filter((r) => r.matchCount > 0)\n            .map(({ matchCount, ...r }) => ({\n                ...r,\n                score: matchCount / tokens.length,\n            }));\n\n        return { permissions, roles };\n    }\n\n    /**\n     * Extract n-grams from text\n     */\n    private extractNgrams(text: string, n: number): string[] {\n        if (text.length < n) return [text];\n        const ngrams: string[] = [];\n        for (let i = 0; i <= text.length - n; i++) {\n            ngrams.push(text.slice(i, i + n));\n        }\n        return ngrams;\n    }\n\n    /**\n     * Calculate Jaccard similarity\n     */\n    private calculateSimilarity(set1: string[], set2: string[]): number {\n        if (set1.length === 0 && set2.length === 0) return 1.0;\n\n        const intersection = set1.filter((item) => set2.includes(item)).length;\n        const union = new Set([...set1, ...set2]).size;\n\n        return union === 0 ? 0 : intersection / union;\n    }\n}\n", "// ============================================\n// GCP IAM Search - Vanilla Frontend\n// ============================================\n\nimport { SearchClient } from './api';\nimport { SearchUI } from './ui';\nimport { SearchManager } from './search';\n\n// Configuration\nconst CONFIG = {\n    API_BASE_URL: 'http://127.0.0.1:8000/api/v1',\n    SEARCH_DEBOUNCE_MS: 150,\n    RESULT_LIMIT: 20,\n    FUZZY_THRESHOLD: 0.5,\n};\n\n// Initialize application\nasync function initializeApp() {\n    try {\n        // Create components\n        const apiClient = new SearchClient(CONFIG.API_BASE_URL);\n        const ui = new SearchUI();\n        const searchManager = new SearchManager({\n            debounceMs: CONFIG.SEARCH_DEBOUNCE_MS,\n            resultLimit: CONFIG.RESULT_LIMIT,\n            fuzzyThreshold: CONFIG.FUZZY_THRESHOLD,\n        });\n\n        // Get DOM elements\n        const searchInput = document.getElementById('searchInput') as HTMLInputElement;\n        const clearBtn = document.getElementById('clearBtn') as HTMLButtonElement;\n        const modeButtons = document.querySelectorAll('.mode-btn');\n\n        // Handle search input\n        searchInput.addEventListener('input', async (e) => {\n            const query = (e.target as HTMLInputElement).value.trim();\n\n            if (!query) {\n                ui.showEmptyState();\n                return;\n            }\n\n            ui.showLoading();\n\n            try {\n                const mode = searchManager.getCurrentMode();\n                const results = await apiClient.search(query, mode);\n\n                if (results.permissions.length === 0 && results.roles.length === 0) {\n                    ui.showEmptyState();\n                } else {\n                    ui.displayResults(results);\n                }\n            } catch (error) {\n                console.error('Search error:', error);\n                ui.showError();\n            }\n        });\n\n        // Handle clear button\n        clearBtn.addEventListener('click', () => {\n            searchInput.value = '';\n            searchInput.focus();\n            ui.showEmptyState();\n        });\n\n        // Handle mode selection\n        modeButtons.forEach((btn) => {\n            btn.addEventListener('click', () => {\n                modeButtons.forEach((b) => b.classList.remove('active'));\n                btn.classList.add('active');\n                const mode = btn.getAttribute('data-mode') as 'exact' | 'prefix' | 'fuzzy';\n                searchManager.setMode(mode);\n\n                // Re-search if there's a query\n                if (searchInput.value.trim()) {\n                    searchInput.dispatchEvent(new Event('input'));\n                }\n            });\n        });\n\n        // Handle keyboard shortcuts\n        document.addEventListener('keydown', (e) => {\n            // Focus search box with /\n            if (e.key === '/' && document.activeElement !== searchInput) {\n                e.preventDefault();\n                searchInput.focus();\n            }\n\n            // Arrow keys for navigation\n            if (e.key === 'ArrowDown' && document.activeElement === searchInput) {\n                e.preventDefault();\n                ui.selectNext();\n            }\n\n            if (e.key === 'ArrowUp' && document.activeElement === searchInput) {\n                e.preventDefault();\n                ui.selectPrevious();\n            }\n\n            // Enter to copy selected result\n            if (e.key === 'Enter' && document.activeElement === searchInput) {\n                const selected = ui.getSelectedResult();\n                if (selected) {\n                    e.preventDefault();\n                    copyToClipboard(selected);\n                }\n            }\n\n            // Escape to clear\n            if (e.key === 'Escape' && document.activeElement === searchInput) {\n                clearBtn.click();\n            }\n        });\n\n        // Set initial focus\n        searchInput.focus();\n\n        console.log('\u2713 GCP IAM Search initialized');\n    } catch (error) {\n        console.error('Failed to initialize app:', error);\n        document.body.innerHTML =\n            '<div style=\"padding: 2rem; color: red;\"><h1>Failed to initialize application</h1><p>Check console for details.</p></div>';\n    }\n}\n\n// Utility: Copy text to clipboard\nfunction copyToClipboard(text: string) {\n    navigator.clipboard.writeText(text).then(\n        () => {\n            // Show temporary success message\n            const msg = document.createElement('div');\n            msg.textContent = '\u2713 Copied!';\n            msg.style.cssText =\n                'position:fixed;top:20px;right:20px;background:#4CAF50;color:white;padding:10px 16px;border-radius:6px;z-index:9999;font-size:14px;';\n            document.body.appendChild(msg);\n            setTimeout(() => msg.remove(), 2000);\n        },\n        () => {\n            console.error('Failed to copy to clipboard');\n        }\n    );\n}\n\n// Start app when DOM is ready\nif (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', initializeApp);\n} else {\n    initializeApp();\n}\n"],
  "mappings": "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",
  "names": ["item"]
}
